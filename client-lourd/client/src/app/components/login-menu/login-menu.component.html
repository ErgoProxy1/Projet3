<div class="login-menu bg-standard">
    <div class="login-menu-container">
        <p class="login-menu-container-title">
            <span class='login-menu-container-title-text'>
                Fais-moi un Dessin!
            </span>
        </p>
        <div class="login-menu-container-form form-group">
            <!--Login form-->
            <form *ngIf="!isRegistering" #loginForm="ngForm" (ngSubmit)="isRegistering?submitRegister():submitLogin()">
                <!--Username-->
                <label for="username_input">Nom d'utilisateur</label>
                <div class="input-group">
                    <input id="username_input" class="form-control" [class.is-invalid]="loginErrors.username.length > 0"
                        name="username_input" type="text" [(ngModel)]="loginFormData.username"
                        (ngModelChange)="clearError('username')" required maxlength="16" pattern="^[^\s].*">
                    <div class="input-group-append">
                        <span class="input-group-text" id="basic-addon2">{{loginFormData.username.length}}/16</span>
                    </div>
                </div>
                <div class="login-menu-container-form-error">
                    {{loginErrors.username}}
                </div>
                <!--Password-->
                <label class="mt-3" for="password_input">Mot de passe</label>
                <div class="input-group">
                    <input id="password_input" class="form-control" [class.is-invalid]="loginErrors.password.length > 0"
                        name="password_input" type="password" [(ngModel)]="loginFormData.password"
                        (ngModelChange)="clearError('password')" required>
                </div>
                <div class="login-menu-container-form-error">
                    {{loginErrors.password}}
                </div>
                <button class="btn btn-primary mt-3" [class.btn-primary]="loginForm.valid"
                    [class.btn-secondary]="!loginForm.valid" type="submit"
                    [disabled]="!loginForm.valid">Connexion</button>
                <button class="btn btn-secondary mt-3 ml-2" (click)="isRegistering = true">Inscription</button>
            </form>

            <!--Register form-->
            <form *ngIf="isRegistering" #registerForm="ngForm" (ngSubmit)="submitRegister()">
                <!--First Name-->
                <label for="firstName_input_register">Pr√©nom</label>
                <div class="input-group">
                    <input id="firstName_input_register" class="form-control"
                        [class.is-invalid]="registerErrors.firstName.length > 0" name="firstName_input_register"
                        type="text" [(ngModel)]="registerFormData.firstName" (ngModelChange)="clearError('firstName')"
                        required>
                </div>
                <div class="login-menu-container-form-error">
                    {{registerErrors.firstName}}
                </div>
                <!--Last Name-->
                <label class="mt-3" for="lastName_input_register">Nom de famille</label>
                <div class="input-group">
                    <input id="lastName_input_register" class="form-control"
                        [class.is-invalid]="registerErrors.lastName.length > 0" name="lastName_input_register"
                        type="text" [(ngModel)]="registerFormData.lastName" (ngModelChange)="clearError('lastName')"
                        required>
                </div>
                <div class="login-menu-container-form-error">
                    {{registerErrors.lastName}}
                </div>
                <!--Username-->
                <label class="mt-3" for="username_input_register">Nom d'utilisateur</label>
                <div class="input-group">
                    <input id="username_input_register" class="form-control"
                        [class.is-invalid]="registerErrors.username.length > 0" name="username_input_register"
                        type="text" [(ngModel)]="registerFormData.username" (ngModelChange)="clearError('username')"
                        required maxlength="16">
                    <div class="input-group-append">
                        <span class="input-group-text" id="basic-addon2">{{registerFormData.username.length}}/16</span>
                    </div>
                </div>
                <div class="login-menu-container-form-error">
                    {{registerErrors.username}}
                </div>
                <!--Password-->
                <label class="mt-3" for="password_input_register">Mot de passe</label>
                <div class="input-group">
                    <input id="password_input_register" class="form-control"
                        [class.is-invalid]="registerErrors.password.length > 0" name="password_input_register"
                        type="password" [(ngModel)]="registerFormData.password" (ngModelChange)="clearError('password')"
                        required>
                </div>
                <div class="login-menu-container-form-error">
                    {{registerErrors.password}}
                </div>
                <button class="btn mt-3" [class.btn-primary]="registerForm.valid"
                    [class.btn-secondary]="!registerForm.valid" type="submit"
                    [disabled]="!registerForm.valid || registerErrors.usernameTaken || registerErrors.usernameHasSpace || !registerErrors.finishedCheckingTaken">Inscrire</button>
                <button class="btn btn-secondary mt-3 ml-2" (click)="isRegistering = false">Retour</button>
            </form>
        </div>
    </div>
</div>